<SocioLingScreen>:
    BoxLayout:
        orientation: "vertical"

        ColoredLabel:
            text: "Please answer a couple of questions about yourself. It will help us analyse data better."

        Widget:
            size_hint_y: None
            height: 20

        GridLayout:
            cols: 2
            row_force_default: True
            row_default_height: 40

            GrayListLabel:
                text: "Enter your name or choose a nickname"

            TextInput:
                font_size: 20
                multiline: False
                focus: True
                on_text: root.add_choice("name", self.text)
                background_color: 0.608, 0.608, 0.627, 0.1

            WhiteListLabel:
                text: "Choose your age range"

            Spinner:
                text: "choose range"
                color: 0, 0, 0, 1
                font_size: 20
                background_color: 0.608, 0.608, 0.627, 0.2
                values: ("18–24", "25–29", "30–39", "40–49", "50–59", "60+")
                on_text: root.add_choice("age", self.text)

            GrayListLabel:
                text: "Choose your gender"
                size_hint_y: None
                height: 40

            GridLayout:
                cols: 3

                ColoredLabel:
                    background_color: 0.608, 0.608, 0.627, 0.1
                    color: 0, 0, 0, 1
                    text: "female"

                ColoredLabel:
                    background_color: 0.608, 0.608, 0.627, 0.1
                    color: 0, 0, 0, 1
                    text: "male"

                ColoredLabel:
                    background_color: 0.608, 0.608, 0.627, 0.1
                    color: 0, 0, 0, 1
                    text: "other"

                CheckBox:
                    size_hint_y: None
                    height: '40dp'
                    color: 0, 0, 0, 1
                    group: "gender"
                    on_active: root.checkbox_choice("gender", "female", self.state)

                CheckBox:
                    size_hint_y: None
                    height: '40dp'
                    color: 0, 0, 0, 1
                    group: "gender"
                    on_active: root.checkbox_choice("gender", "male", self.state)

                CheckBox:
                    size_hint_y: None
                    height: '40dp'
                    color: 0, 0, 0, 1
                    group: "gender"
                    on_active: root.checkbox_choice("gender", "other", self.state)

            Widget:
                size_hint_x: None
                width: 400

            Widget:

            GrayListLabel:
                text: "What is your level of education?"

            Spinner:
                text: "choose level"
                font_size: 20
                color: 0, 0, 0, 1
                background_color: 0.608, 0.608, 0.627, 0.2
                values: ("школа", "бакалавриат", "специалитет", "магистратура", "аспирантура", "докторантура")
                on_text: root.add_choice("education", self.text)

            WhiteListLabel:
                text: "What is or was your specialty?"

            TextInput:
                text: ''
                font_size: 20
                background_color: 0.608, 0.608, 0.627, 0.1
                color: 0, 0, 0, 1
                multiline: False
                on_text: root.add_choice("degree_subject", self.text)

            GrayListLabel:
                text: "What is your current occupation?"

            TextInput:
                text: ''
                font_size: 20
                background_color: 0.608, 0.608, 0.627, 0.1
                color: 0, 0, 0, 1
                multiline: False
                on_text: root.add_choice("occupation", self.text)

            WhiteListLabel:
                text: "Where did you live during childhood?"

            ComboEdit:
                on_text:
                    root.suggest_cities(self)
                    root.add_city("childhood_city", self.text)

            GrayListLabel:
                text: "Where did you live most of your life?"

            ComboEdit:
                on_text:
                    root.suggest_cities(self)
                    root.add_city("longest_time_city", self.text)

            WhiteListLabel:
                text: "Where do you live now?"

            ComboEdit:
                on_text:
                    root.suggest_cities(self)
                    root.add_city("now_city", self.text)

            GrayListLabel:
                text: "What is your native language / languages?"

            MultiSelectSpinner:
                values: root.native_languages
                check_type: "other_languages"
                on_text: root.add_choice("native_languages", self.selected_values)

            WhiteListLabel:
                text: "What other languages do you speak?"

            MultiSelectSpinner:
                values: root.all_languages
                check_type: "native_languages"
                on_text: root.add_choice("other_languages", self.selected_values)

        Button:
            text: "Continue"
            size_hint_y: None
            height: 40
            font_size: 25
            background_color: 0.608, 0.608, 0.627, 0.5
            on_press: root.save_info()


<SocioLingPopUp>:
    BoxLayout:
        size: root.size
        pos: root.pos
        on_size: self.center = root.center
        orientation: "vertical"

        Label:
            font_size: 20
            text: root.errors_text
            markup: True

        Button:
            size_hint_y: None
            height: 30
            font_size: 20
            text: "Got it"
            on_release: root.cancel()

<AgreementScreen>:
    BoxLayout:
        orientation: "vertical"

        ColoredLabel:
            text: "Participation Agreement"
            font_size: 40
            height: 50

        GrayListLabel:
            text: "[b]I am aware that:[/b]"
            font_size: 25
            markup: True
            size_hint_x: 1

        Widget:
            size_hint_y: None
            height: 15

        GrayListLabel:
            text: "All information or data which is obtained will not be made public"
            size_hint_x: 1
            height: 30

        GrayListLabel:
            text: "and will only be used for scientific purposes"
            size_hint_x: 1
            height: 30

        Widget:
            size_hint_y: None
            height: 15

        GrayListLabel:
            text: "Any data which can be identified with me will be treated confidentially"
            size_hint_x: 1
            height: 60

        Widget:
            size_hint_y: None
            height: 15

        GrayListLabel:
            text: "This experiment will only take about 15 minutes of my time"
            size_hint_x: 1
            height: 60

        Widget:
            size_hint_y: None
            height: 15

        GrayListLabel:
            text: "[b]I agree[/b]"
            markup: True
            font_size: 25
            size_hint_x: 1
            height: 40

        CheckBox:
            canvas.before:
                Color:
                    rgba: 0.95, 0.95, 0.95, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint_y: None
            height: '45dp'
            color: 0, 0, 0, 1
            on_active: root.record_agreement(self.state)

        Widget:
            size_hint_y: None
            height: 20

        ColoredLabel:
            text: "If you want to find out the results of the experiment, \nyou can leave us your email address:"
            height: 60
            font_size: 22

        TextInput:
            text: ''
            font_size: 20
            size_hint_y: None
            size_hint_x: 0.7
            pos_hint: {'center_x': 0.5}
            height: 40
            background_color: 0.608, 0.608, 0.627, 0.1
            color: 0, 0, 0, 1
            multiline: False
            on_text: root.record_email(self.text)

        Widget:

        Button:
            text: "Continue"
            size_hint_y: None
            height: 40
            font_size: 25
            background_color: 0.608, 0.608, 0.627, 0.5
            on_press: root.check_agreement()