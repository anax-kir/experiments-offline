#:kivy 1.10.1
#:import sm kivy.uix.screenmanager
#:include socioling.kv
#:include training.kv

ScreenManager:
    id: screen_manager
    transition: sm.NoTransition()

#    WelcomeScreen:
#        id: welcome_screen
#        name: "WelcomeScreen"
#        manager: screen_manager
#
#    DataScreen:
#        name: "DataScreen"
#        manager: screen_manager
#        label_text: welcome_screen.text
#
#    StartScreen:
#        name: "StartScreen"
#        manager: screen_manager
#
#    SocioLingScreen:
#        name: "SocioLingScreen"
##        manager: screen_manager
#
#    AttentionScreen:
#        name: "AttentionScreen"
#        manager: screen_manager

    TrainingScreen:
        name: "TrainingScreen"
        manager: screen_manager

<WelcomeScreen>:
    BoxLayout:
        orientation: "vertical"

        ColoredLabel:
            height: 60
            font_size: 25
            text: "Please upload your sentences"

        Image:
            source: "shiba.jpg"

        Button:
            size_hint_y: None
            height: 60
            text: "Upload"
            font_size: 25
            on_release: root.show_load()
            background_color: (0, 0, 1, 1)

<DataScreen>:
    BoxLayout:
        orientation: "vertical"

        ColoredLabel:
            text: "Please check file contents before pressing continue"

        RstDocument:
            text: root.label_text

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: 60

            Button:
                font_size: 25
                text: "Go back"
                on_press: root.manager.current = "WelcomeScreen"
                background_color: (1, 0, 0, 1)

            Button:
                font_size: 25
                text: "Continue"
                on_press: root.manager.current = "StartScreen"
                background_color: (0, 1, 0, 1)

<StartScreen>:
    BoxLayout:
        orientation: "vertical"

        Label:
            color: 0, 0, 0, 1
            text: "Press start to begin experiment"
            font_size: 50

        Button:
            size_hint_y: None
            height: 100
            text: "Start"
            font_size: 50
            on_press: root.manager.current = "SocioLingScreen"
            background_color: (0, 1, 0, 1)

<AttentionScreen>:
    BoxLayout:
        orientation: "vertical"

        Label:
            color: 0, 0, 0, 1
            text: "Youâ€™re about to enter the experiment. \nPlease turn off your cells :)"
            font_size: 40

        Button:
            size_hint_y: None
            height: 100
            text: "Continue"
            font_size: 50
            on_press: root.manager.current = "TrainingScreen"
            background_color: (0, 1, 0, 1)

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"

        FileChooserListView:
            id: filechooser
            path: root.get_path()

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Upload"
                on_release: root.load(filechooser.path, filechooser.selection)